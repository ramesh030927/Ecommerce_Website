<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Ramesh Store</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f8f9fa;
      scroll-behavior: smooth;
    }
    .navbar {
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }
    .navbar-brand {
      font-weight: bold;
      letter-spacing: 1px;
    }
     .hero-section {
      background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('media/products/shoppingmall.jpg') no-repeat center center/cover;
      color: white;
      padding: 150px 20px;
      text-align: center;
      text-shadow: 2px 2px 5px #000;
    }
    .hero-section h1 {
      font-size: 3rem;
    }
    .hero-section p {
      font-size: 1.25rem;
    }
    .hero-section .btn {
      margin-top: 20px;
    }
    .section-title {
      border-bottom: 2px solid #ddd;
      padding-bottom: 5px;
      margin-bottom: 25px;
      font-weight: bold;
    }
    .card:hover {
      transform: scale(1.03);
      transition: 0.3s ease;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }
    .footer {
      background: #222;
      color: #fff;
      padding: 30px 10px;
    }
    .footer a {
      color: #fff;
      margin: 0 10px;
      font-size: 20px;
      transition: 0.3s ease;
    }
    .footer a:hover {
      color: #0d6efd;
    }
    .cart-count {
      background: red;
      color: white;
      border-radius: 50%;
      padding: 2px 6px;
      font-size: 12px;
      position: absolute;
      top: 3px;
      right: -10px;
    }
    .search-box input {
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
  <div class="container">
    <a class="navbar-brand" href="#">Ramesh electrical & electronics</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navmenu">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navmenu">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="/admin/">Admin</a></li>
        <li class="nav-item"><a class="nav-link" href="#products">Products</a></li>
        <li class="nav-item">
          <a class="nav-link position-relative" href="#cart">Cart 
            <span class="cart-count" id="cartCount">0</span>
          </a>
        </li>
        <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
      </ul>
    </div>
  </div>
</nav>

<section class="hero-section" id="hero">
  <h1>Welcome to Ramesh Store</h1>
  <p>Best Deals. Great Products. Affordable Prices.</p>
</section>

<div class="container my-5" id="products">
  <h2 class="text-center section-title">Products</h2>
  <div class="search-box text-center mb-4">
    <input type="text" class="form-control w-50 mx-auto" id="searchInput" placeholder="Search products...">
  </div>
  <div class="row" id="productList">
    {% for product in products %}
    <div class="col-md-4 col-sm-6 mb-4 product-card">
      <div class="card shadow-sm h-100">
        <img src="{{ product.image.url }}" class="card-img-top" alt="{{ product.name }}">
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">{{ product.name }}</h5>
          <p class="card-text small text-muted">{{ product.description|truncatewords:20 }}</p>
          <div class="mt-auto">
            <p class="mb-1">
              <del>₹{{ product.price }}</del>
              <span class="text-danger fw-bold ms-2">₹{{ product.offer_price }}</span>
            </p>
            <button class="btn btn-outline-success btn-sm w-100 add-to-cart" data-name="{{ product.name }}" data-price="{{ product.offer_price }}">Add to Cart</button>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>

<section class="container my-5" id="cart">
  <h2 class="text-center section-title">Your Cart</h2>
  <ul class="list-group mb-3" id="cartItems"></ul>
  <div class="checkout-box text-end">
    <h5>Total: ₹<span id="cartTotal">0</span></h5>
    <button class="btn btn-success" onclick="checkout()">Proceed to Checkout</button>
  </div>
</section>

<div class="container my-5" id="contact">
  <h2 class="text-center section-title">Contact Us</h2>
  <div class="row">
    <div class="col-md-6">
      <ul class="list-unstyled">
        <li><strong>Store Name:</strong> {{ contact.store_name }}</li><br>
        <li><strong>Mobile Number:</strong> {{ contact.phone }}</li><br>
        <li><strong>Address:</strong> {{ contact.address }}</li><br>
        <li><strong>Email:</strong> {{ contact.email }}</li><br>
        <li><strong>Shop Time:</strong> {{ contact.time }}</li><br>
        <li><strong>Fax Number:</strong> {{ contact.fax_number }}</li>
      </ul>
    </div>
    <div class="col-md-6">
      <iframe src="https://www.google.com/maps?q={{ contact.address|urlencode }}&output=embed" width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
    </div>
  </div>
</div>

<footer class="footer text-center">
  <div class="container">
    <p class="mb-2">Built with love in Ramesh Store</p>
    <a href="https://facebook.com" target="_blank" style="text-decoration: none;">Ramesh_store<i class="fab fa-facebook"></i></a><br>
    <a href="https://instagram.com" target="_blank"style="text-decoration: none;">Ramesh_store<i class="fab fa-instagram"></i></a><br>
  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
// Cart logic
let cart = [];

function updateCart() {
  const cartItems = document.getElementById('cartItems');
  const cartTotal = document.getElementById('cartTotal');
  const cartCount = document.getElementById('cartCount');
  cartItems.innerHTML = '';
  let total = 0;

  cart.forEach((item, index) => {
    total += item.price;
    cartItems.innerHTML += `<li class='list-group-item d-flex justify-content-between'>
        ${item.name} - ₹${item.price.toFixed(2)}
        <button class='btn btn-sm btn-danger' onclick='removeFromCart(${index})'>Remove</button>
    </li>`;
  });

  cartTotal.innerText = total.toFixed(2);
  cartCount.innerText = cart.length;
}

function removeFromCart(index) {
  cart.splice(index, 1);
  updateCart();
}

function checkout() {
  if (cart.length > 0) {
    alert("Your order is confirmed! Delivery within 5 days. Thank you for purchasing from Ramesh Store.");
    cart = [];
    updateCart();
  } else {
    alert("Your cart is empty.");
  }
}

document.querySelectorAll('.add-to-cart').forEach(button => {
  button.addEventListener('click', () => {
    const name = button.getAttribute('data-name');
    const price = parseFloat(button.getAttribute('data-price'));
    cart.push({ name, price });
    updateCart();
  });
});

document.getElementById('searchInput').addEventListener('input', function () {
  const keyword = this.value.toLowerCase();
  document.querySelectorAll('.product-card').forEach(card => {
    const title = card.querySelector('.card-title').textContent.toLowerCase();
    card.style.display = title.includes(keyword) ? 'block' : 'none';
  });
});
</script>
</body>
</html>
